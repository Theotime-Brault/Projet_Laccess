<?php

namespace Lacces\LaccesBundle\Repository\Exercise;

/**
 * qcmEnonceFrRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class qcmEnonceFrRepository extends \Doctrine\ORM\EntityRepository
{
  public function findByQcmFrId ($qcmFrId){
    return $this->createQueryBuilder('c')
      ->where('c.qcmFr=:word')
      ->setParameter('word', $qcmFrId)
      ->getQuery()
      ->getResult();
  }

    public function findQcmenonceByQcmAndEnonce($idQcm, $enonce){
        return $this->createQueryBuilder('c')
            ->where('c.enonces=:enonce')
            ->leftJoin('c.qcmFr', 'b')
            ->andWhere('b.id=:idQcm')
            ->setParameter('enonce', $enonce)
            ->setParameter('idQcm', $idQcm)
            ->getQuery()
            ->getOneOrNullResult();
    }
}
